import Chart from 'chart.js/auto';

function makeBarChart(canvas, config) {
  new Chart(
    canvas,
    config
  )
}

function getAge2023() {

  const age = {
    'Qual é a sua idade?': [
      '19 a 24',
      '19 a 24',
      '19 a 24',
      '19 a 24',
      '19 a 24',
      'Até 18',
      '25 a 35',
      '19 a 24',
      '36 a 50',
      '25 a 35',
      '25 a 35',
      '19 a 24',
      '25 a 35',
      '19 a 24',
      '25 a 35',
      '19 a 24',
      '19 a 24',
      '36 a 50',
      '19 a 24',
      '36 a 50',
      '19 a 24',
      '19 a 24',
      '36 a 50',
      '19 a 24',
      '51 a 69',
      '19 a 24',
      '36 a 50',
      '19 a 24',
      '19 a 24',
      'Até 18',
      '25 a 35',
      'Até 18',
      'Até 18',
      '19 a 24',
      '25 a 35',
      '25 a 35',
      '25 a 35',
      '36 a 50',
      '25 a 35',
      '25 a 35',
      '25 a 35',
      '19 a 24',
      '19 a 24',
      '36 a 50',
      '25 a 35',
      '36 a 50',
      '51 a 69',
      '19 a 24',
      '19 a 24',
      '19 a 24',
      '51 a 69',
      '19 a 24',
      '25 a 35',
      'Até 18',
      '19 a 24',
      '19 a 24',
      '36 a 50',
      '19 a 24',
      '19 a 24',
      '25 a 35',
      '19 a 24',
      '19 a 24',
      '25 a 35',
      '19 a 24',
      '19 a 24',
      '19 a 24',
      '25 a 35',
      'Até 18',
      '19 a 24',
      '36 a 50',
      '36 a 50',
      '25 a 35',
      '36 a 50',
      'Até 18',
      'Até 18',
      '19 a 24',
      '19 a 24',
      '19 a 24',
      'Até 18',
      '19 a 24',
      'Até 18',
      'Até 18',
      '19 a 24',
      '19 a 24',
      '19 a 24',
      '25 a 35',
      '19 a 24',
      '19 a 24',
      '25 a 35',
      'Até 18',
      '25 a 35',
      '25 a 35',
      '36 a 50',
      '25 a 35',
      '25 a 35',
      '25 a 35',
      '25 a 35',
      '19 a 24',
      '36 a 50',
      '25 a 35',
      '51 a 69',
      '25 a 35',
      '25 a 35',
      '36 a 50',
      '36 a 50',
      '36 a 50',
      '19 a 24',
      '36 a 50',
      '19 a 24',
      '25 a 35',
      '25 a 35',
      '25 a 35',
      '25 a 35',
      '25 a 35',
      '25 a 35',
      '25 a 35',
      '25 a 35',
      '25 a 35',
      '25 a 35',
      '25 a 35',
      '25 a 35',
      '25 a 35',
      '25 a 35',
      '36 a 50',
      '25 a 35',
      '25 a 35',
      '25 a 35',
      '36 a 50',
      '25 a 35',
      '25 a 35',
      '19 a 24',
      '19 a 24',
      '19 a 24',
      '25 a 35',
      '19 a 24',
      '51 a 69',
      '19 a 24',
      '25 a 35',
      '19 a 24',
      '36 a 50',
      '25 a 35',
      '19 a 24',
      '19 a 24',
      '25 a 35',
      '36 a 50',
      'Até 18',
      '36 a 50',
      '19 a 24',
      '36 a 50',
      '19 a 24',
      '19 a 24',
      '19 a 24',
      '19 a 24',
      '19 a 24',
      '25 a 35',
      '36 a 50',
      '36 a 50',
      '19 a 24',
      '19 a 24']
  }

  const ageByGroup = createAgeRange();

  for (i of age['Qual é a sua idade?']) {
    ageByGroup.set(i, ageByGroup.get(i) + 1);
  }

  return ageByGroup;
}

function getAge2003() {

  const age = {
    "What is your age?": [
      "25 a 35",
      "19 a 24",
      "25 a 35",
      "25 a 35",
      "25 a 35",
      "25 a 35",
      "25 a 35",
      "25 a 35",
      "25 a 35",
      "19 a 24",
      "Até 18",
      "19 a 24",
      "19 a 24",
      "25 a 35",
      "25 a 35",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "36 a 50",
      "19 a 24",
      "19 a 24",
      "25 a 35",
      "19 a 24",
      "19 a 24",
      "25 a 35",
      "25 a 35",
      "19 a 24",
      "25 a 35",
      "36 a 50",
      "25 a 35",
      "Até 18",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "25 a 35",
      "25 a 35",
      "19 a 24",
      "25 a 35",
      "Até 18",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "25 a 35",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "25 a 35",
      "25 a 35",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "Até 18",
      "25 a 35",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "Até 18",
      "36 a 50",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "25 a 35",
      "51 a 69",
      "25 a 35",
      "25 a 35",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "25 a 35",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "25 a 35",
      "36 a 50",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "25 a 35",
      "36 a 50",
      "19 a 24",
      "19 a 24",
      "25 a 35",
      "25 a 35",
      "19 a 24",
      "19 a 24",
      "25 a 35",
      "19 a 24",
      "19 a 24",
      "36 a 50",
      "25 a 35",
      "25 a 35",
      "25 a 35",
      "19 a 24",
      "51 a 69",
      "19 a 24",
      "19 a 24",
      "25 a 35",
      "mais de 70",
      "19 a 24",
      "25 a 35",
      "36 a 50",
      "36 a 50",
      "25 a 35",
      "36 a 50",
      "25 a 35",
      "25 a 35",
      "25 a 35",
      "51 a 69",
      "19 a 24",
      "36 a 50",
      "25 a 35",
      "36 a 50",
      "36 a 50",
      "36 a 50",
      "36 a 50",
      "25 a 35",
      "36 a 50",
      "25 a 35",
      "25 a 35",
      "25 a 35",
      "25 a 35",
      "25 a 35",
      "36 a 50",
      "51 a 69",
      "25 a 35",
      "25 a 35",
      "36 a 50",
      "25 a 35",
      "19 a 24",
      "25 a 35",
      "36 a 50",
      "36 a 50",
      "25 a 35",
      "51 a 69",
      "25 a 35",
      "19 a 24",
      "25 a 35",
      "25 a 35",
      "25 a 35",
      "36 a 50",
      "36 a 50",
      "51 a 69",
      "36 a 50",
      "36 a 50",
      "36 a 50",
      "36 a 50",
      "36 a 50",
      "51 a 69",
      "36 a 50",
      "25 a 35",
      "25 a 35",
      "36 a 50",
      "19 a 24",
      "19 a 24",
      "51 a 69",
      "51 a 69",
      "36 a 50",
      "25 a 35",
      "mais de 70",
      "36 a 50",
      "mais de 70",
      "mais de 70",
      "36 a 50",
      "51 a 69",
      "mais de 70",
      "36 a 50",
      "25 a 35",
      "25 a 35",
      "25 a 35",
      "25 a 35",
      "19 a 24",
      "19 a 24",
      "mais de 70",
      "25 a 35",
      "36 a 50",
      "36 a 50",
      "mais de 70",
      "25 a 35",
      "36 a 50",
      "19 a 24",
      "25 a 35",
      "mais de 70",
      "25 a 35",
      "mais de 70",
      "25 a 35",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "Até 18",
      "Até 18",
      "19 a 24",
      "36 a 50",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "Até 18",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "19 a 24",
      "Até 18",
      "Até 18",
      "25 a 35",
      "19 a 24",
      "19 a 24",
      "25 a 35"
    ]
  }

  const ageByGroup = createAgeRange();

  for (i of age['What is your age?']) {
    ageByGroup.set(i, ageByGroup.get(i) + 1);
  }

  return ageByGroup;
}

function createAgeRange() {
  const ageRange = new Map();
  ageRange.set('Até 18', 0);
  ageRange.set('19 a 24', 0);
  ageRange.set('25 a 35', 0);
  ageRange.set('36 a 50', 0);
  ageRange.set('51 a 69', 0);
  ageRange.set('mais de 70', 0);
  return ageRange;
}

function createConfigForAgeChart(dataset, label) {

  return {
    type: 'bar',
    data: {
      labels: [...dataset.keys()],
      datasets: [
        {
          label: label,
          data: [...dataset.values()]
        }
      ]
    }
  }

}

const ageByGroup2023 = getAge2023();
const ageByGroup2003 = getAge2003();

const age2023Config = createConfigForAgeChart(ageByGroup2023, 'Distribuição de Idade 2023');
const age2003Config = createConfigForAgeChart(ageByGroup2003, 'Distribuição de Idade 2003');

makeBarChart(document.getElementById('age2023'), age2023Config);
makeBarChart(document.getElementById('age2003'), age2003Config);